{"ts":1361994296820,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"$(document).ready(function() {\r\n    readApps();\r\n    });\r\n\r\nfunction readApps() {\r\n    'use strict';\r\n    var sUrl = \"/myapps\";\r\n    var xmlHttp = new XMLHttpRequest();\r\n    xmlHttp.open(\"GET\", sUrl, false);\r\n    xmlHttp.send(null);\r\n    var myapps=xmlHttp.responseText;\r\n    console.log(myapps);\r\n    var arrayApps = JSON.parse(myapps).apps;\r\n\r\n    var htmlMenu = [], iMenu = 0,\r\n        htmlTable = [], iTable = 0,\r\n        index = 0;\r\n\r\n    htmlTable[iTable++] = '<tr>';\r\n    for (index in arrayApps) {\r\n        // add table element\r\n        htmlTable[iTable++] = '<td>';  \r\n        htmlTable[iTable++] = '<button class=\"appbutton\" title=\"' + arrayApps[index].name + '\" ';\r\n        htmlTable[iTable++] = 'onclick=\"launchpopup(\\'' + arrayApps[index].exe + '\\')\">';\r\n        htmlTable[iTable++] = '<img class=\"appimg\" src=\"' + arrayApps[index].imagefile + '\"/>';\r\n        htmlTable[iTable++] = '<br><span class=\"apptext\" >' + arrayApps[index].name + '</span>';\r\n        htmlTable[iTable++] = '</button>';\r\n        htmlTable[iTable++] = '</td>';\r\n        \r\n        // add a row after every 4'th element\r\n        if (((parseInt(index)+1)%4) === 0) {\r\n            htmlTable[iTable++] = '</tr>';\r\n            htmlTable[iTable++] = '<tr>';\r\n        }\r\n        \r\n        // add menu item\r\n        htmlMenu[iMenu++] = '<li><a href=\"\" ';\r\n        htmlMenu[iMenu++] = 'onclick=\"launchpopup(\\'' + arrayApps[index].exe + '\\')\">';\r\n        htmlMenu[iMenu++] = '<img class=\"menuappimg\" src=\"' + arrayApps[index].imagefile + '\"/>';\r\n        htmlMenu[iMenu++] = arrayApps[index].name + '</a></li>';\r\n    }\r\n    htmlTable[iTable++] = '</tr>';\r\n    \r\n    $('#apptable').html(htmlTable.join(''));  \r\n    $('#appmenu').html(htmlMenu.join(''));\r\n}\r\n\r\n\r\nfunction launchpopup(url) {\r\n    alert(url);\r\n //   newwindow=window.open(url, \"popup\", \"status=0,toolbar=0,location=0,menubar=0,directories=0,resizable=0,scrollbars=0,height=800,width=1024\");\r\n}"]],"start1":0,"start2":0,"length1":0,"length2":1929}]],"length":1929}
